"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[527],{829:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var a=t(43),o=t(64),n=t.n(o);t(421);const s=t.p+"static/media/LOGO-FULL-min.33d43d1ae7f469c83da6.png";var i=t(579);const c=function(){const[e,r]=(0,a.useState)(""),[t,o]=(0,a.useState)(""),[c]=(0,a.useState)(s);return(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsxs)("div",{className:"row no-gutters",children:[(0,i.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),(0,i.jsx)("div",{className:"col-md-6 bg-light",children:(0,i.jsx)("div",{className:"login d-flex align-items-center py-5",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-lg-10 col-xl-7 mx-auto text-center",children:[(0,i.jsx)("img",{src:c,alt:"Logo",className:"logo img-fluid"}),(0,i.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),e&&t)try{const r=await fetch("http://192.52.242.238:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await r.json();if(200===r.status){const e=await(async e=>{try{const r=await fetch("http://192.52.242.238:8000/api/encrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:e})});if(200===r.status)return(await r.json()).encrypted_value;throw new Error("Error al encriptar con la API")}catch(r){return console.error("Error al encriptar con la API:",r),null}})(a.ID_USUARIO.toString());if(!e)return void n().fire({icon:"error",title:"Error en la encriptaci\xf3n",text:"No se pudo encriptar el ID del usuario."});1===a.ID_ROL||2===a.ID_ROL||3===a.ID_ROL?window.location.href=`./campanas?id=${e}`:n().fire({icon:"error",title:"Rol desconocido",text:"No tienes acceso a ninguna vista."})}else 401===r.status?n().fire({icon:"error",title:"Acceso denegado",text:"Usuario o contrase\xf1a incorrectos."}):422===r.status?n().fire({icon:"warning",title:"Error en el formulario",text:"Por favor revisa los datos enviados."}):n().fire({icon:"error",title:"Error inesperado",text:"Ocurri\xf3 un error en el servidor."})}catch(a){n().fire({icon:"error",title:"Error de red",text:"No se pudo conectar al servidor. Verifica tu conexi\xf3n a Internet."})}else n().fire({icon:"warning",title:"Faltan campos",text:"Por favor completa todos los campos."})},children:[(0,i.jsx)("div",{className:"form-group mb-3",children:(0,i.jsx)("input",{type:"text",placeholder:"Usuario",className:"form-control rounded-pill border-0 shadow-sm px-4",value:e,onChange:e=>r(e.target.value)})}),(0,i.jsx)("div",{className:"form-group mb-3",children:(0,i.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",className:"form-control rounded-pill border-0 shadow-sm px-4 text-primary",value:t,onChange:e=>o(e.target.value)})}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm btn-login",children:"Ingresar"})]})]})})})})})]})})}}}]);
//# sourceMappingURL=527.bf753b6d.chunk.js.map